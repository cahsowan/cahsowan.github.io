"use strict";function scrollBodyTop(e){$("html, body").animate({scrollTop:0},e)}angular.module("cahsowan",["ngRoute","ngSanitize","ui.bootstrap"]).config(["$routeProvider","$locationProvider",function(e,t){e.when("/",{templateUrl:"home.html",controller:"HomeCtrl"}).when("/categories/:categoryName",{templateUrl:"categories.html",controller:"CategoriesCtrl"}).when("/tags/:tagName",{templateUrl:"tags.html",controller:"TagsCtrl"}).when("/posts/:postSlug",{templateUrl:"post.html",controller:"PostCtrl"}).when("/pages/:pageSlug",{templateUrl:"page.html",controller:"PageCtrl"}).when("/search",{templateUrl:"search.html",controller:"SearchCtrl"}).otherwise({redirectTo:"/"}),t.html5Mode(!1).hashPrefix("!")}]).run(["$rootScope","$modal","$location","$window",function(e,t,a,o){e.apiBaseUrl="http://cahsowanblog.gopagoda.com",e.webBaseUrl=o.location.origin,e.defaultTitle="Taufik Rahman &raquo; Ikatlah ilmu dengan menulisnya",e.titleSuffix=" | Taufik Rahman &raquo; Ikatlah ilmu dengan menulisnya",e.pageTitle=e.defaultTitle,e.$on("$routeChangeStart",function(){scrollBodyTop(600)}),e.$on("$viewContentLoaded",function(){o.ga("send","pageview",{page:a.path()})}),e.showOverlay=function(a){e.message=a,t.open({templateUrl:"overlay.html",controller:["$scope","$modalInstance",function(e,t){e.cancel=function(){t.dismiss("cancel")}}]})}}]),$(window).scroll(function(){$(this).scrollTop()>100?$(".scrollup").fadeIn():$(".scrollup").fadeOut()}),$(".scrollup").click(function(){return scrollBodyTop(600),!1}),angular.module("cahsowan").directive("categoriesTree",function(){return{restrict:"A",templateUrl:"widgets/categories-tree.html",controller:"CategoriesTreeCtrl"}}),angular.module("cahsowan").directive("dirDisqus",["$window",function(e){return{restrict:"E",scope:{disqus_shortname:"@disqusShortname",disqus_identifier:"@disqusIdentifier",disqus_title:"@disqusTitle",disqus_url:"@disqusUrl",disqus_category_id:"@disqusCategoryId",disqus_disable_mobile:"@disqusDisableMobile",readyToBind:"@"},template:'<div id="disqus_thread"></div><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>',link:function(t){if("undefined"==typeof t.disqus_identifier||"undefined"==typeof t.disqus_url)throw"Please ensure that the `disqus-identifier` and `disqus-url` attributes are both set.";t.$watch("readyToBind",function(a){if(angular.isDefined(a)||(a="true"),t.$eval(a))if(e.disqus_shortname=t.disqus_shortname,e.disqus_identifier=t.disqus_identifier,e.disqus_title=t.disqus_title,e.disqus_url=t.disqus_url,e.disqus_category_id=t.disqus_category_id,e.disqus_disable_mobile=t.disqus_disable_mobile,e.DISQUS)e.DISQUS.reset({reload:!0,config:function(){this.page.identifier=t.disqus_identifier,this.page.url=t.disqus_url,this.page.title=t.disqus_title}});else{var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="//"+t.disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(o)}})}}}]),angular.module("cahsowan").directive("navbar",function(){return{restrict:"E",templateUrl:"navbar.html",controller:"NavbarCtrl"}}),angular.module("cahsowan").directive("popularTags",function(){return{restrict:"A",templateUrl:"widgets/popular-tags.html",controller:"PopularTagsCtrl"}}),angular.module("cahsowan").directive("recentPosts",function(){return{restrict:"A",templateUrl:"widgets/recent-posts.html",controller:"RecentPostsCtrl"}}),angular.module("cahsowan").controller("CategoriesTreeCtrl",["$scope","$http","$rootScope",function(e,t,a){e.myPromise=t.get(a.apiBaseUrl+"/api/categories").success(function(t){e.categories=t.categories})}]),angular.module("cahsowan").controller("CategoriesCtrl",["$scope","$routeParams","$http","$rootScope",function(e,t,a,o){var r=t.categoryName;e.getData=function(t){var t="undefined"==typeof t?1:t;e.myPromise=a.get(o.apiBaseUrl+"/api/categories/"+r+"/posts",{params:{page:t}}).success(function(t){e.posts=t.posts,e.totalItems=t.pagination.total,e.perPage=t.pagination.limit;var a=t.posts[0].categories,s=_.filter(a,function(e){return e.slug==r})[0].name;e.category=s,o.pageTitle="Category of: "+e.category+o.titleSuffix})},e.getData(),e.isPageable=function(e,t){return e>t},e.currentPage=1,e.maxSize=5,e.setPage=function(t){e.currentPage=t},e.pageChanged=function(){e.getData(e.currentPage),scrollBodyTop(600)}}]),angular.module("cahsowan").controller("HomeCtrl",["$scope","$http","$rootScope",function(e,t,a){a.pageTitle=a.defaultTitle,e.getPosts=function(o){var o="undefined"==typeof o?1:o;e.myPromise=t.get(a.apiBaseUrl+"/api/posts",{params:{page:o}}).success(function(t){e.posts=t.posts,e.totalItems=t.pagination.total,e.perPage=t.pagination.limit})},e.getPosts(),e.haveNo=function(e){return"undefined"==typeof e},e.isPageable=function(e,t){return e>t},e.currentPage=1,e.maxSize=5,e.setPage=function(t){e.currentPage=t},e.pageChanged=function(){e.getPosts(e.currentPage),scrollBodyTop(600)}}]),angular.module("cahsowan").controller("NavbarCtrl",["$scope","$http","$location","$rootScope",function(e,t,a,o){t.get(o.apiBaseUrl+"/api/categories").success(function(t){e.categories=t.categories}),e.doSearch=function(){t.get(o.apiBaseUrl+"/api/search",{params:{q:e.keyword}}).success(function(t){t.posts.length<1?(e.showOverlay("No result found"),e.keyword=""):(a.path("/search").search({q:e.keyword}),e.keyword="")}).error(function(t){var a=e.formatErrorMessage(t.errors);e.showOverlay(a),e.keyword=""})},e.formatErrorMessage=function(e){var t="<ul>";return _.each(e,function(e,a){t+="<li><strong>"+a+"</strong> "+e+"</li>"}),t+="</ul>"}}]),angular.module("cahsowan").controller("PageCtrl",["$scope","$http","$routeParams","$rootScope",function(e,t,a,o){var r=a.pageSlug;e.myPromise=t.get(o.apiBaseUrl+"/api/pages/"+r).success(function(t){e.page=t.page,o.pageTitle=t.page.title+o.titleSuffix})}]),angular.module("cahsowan").controller("PopularTagsCtrl",["$scope","$http","$rootScope",function(e,t,a){var o=18,r=11,s=o-r;e.myPromise=t.get(a.apiBaseUrl+"/api/tags").success(function(t){var a=_.max(t.tags,function(e){return e.post_count}).post_count,o=_.min(t.tags,function(e){return e.post_count}).post_count,n=a-o,i=s/n,l=_.each(t.tags,function(e){e.font_size=r+(e.post_count-o)*i});e.tags=l})}]),angular.module("cahsowan").controller("PostCtrl",["$scope","$http","$routeParams","$rootScope",function(e,t,a,o){var r=a.postSlug;e.myPromise=t.get(o.apiBaseUrl+"/api/posts/"+r).success(function(t){e.post=t.post,e.post.url=o.webBaseUrl+"/#!/posts/"+t.post.slug,e.contentLoaded=!0,o.pageTitle=t.post.title+o.titleSuffix})}]),angular.module("cahsowan").controller("RecentPostsCtrl",["$scope","$http","$rootScope",function(e,t,a){var o=5;e.myPromise=t.get(a.apiBaseUrl+"/api/posts",{params:{limit:o}}).success(function(t){e.recentPosts=t.posts})}]),angular.module("cahsowan").controller("SearchCtrl",["$scope","$http","$routeParams","$rootScope",function(e,t,a,o){e.keyword=a.q,e.getData=function(a){e.myPromise=t.get(o.apiBaseUrl+"/api/search",{params:{q:e.keyword}}).success(function(t){e.posts=t.posts,e.totalItems=t.pagination.total,e.perPage=t.pagination.limit,o.pageTitle="Search for: "+e.keyword+o.titleSuffix})},e.getData(),e.isPageable=function(e,t){return e>t},e.currentPage=1,e.maxSize=5,e.setPage=function(t){e.currentPage=t},e.pageChanged=function(){e.getData(e.currentPage),scrollBodyTop(600)}}]),angular.module("cahsowan").controller("TagsCtrl",["$scope","$routeParams","$http","$rootScope",function(e,t,a,o){var r=t.tagName;e.getData=function(t){var t="undefined"==typeof t?1:t;e.myPromise=a.get(o.apiBaseUrl+"/api/tags/"+r+"/posts",{params:{page:t}}).success(function(t){e.posts=t.posts,e.totalItems=t.pagination.total,e.perPage=t.pagination.limit;var a=t.posts[0].tags,s=_.filter(a,function(e){return e.slug==r})[0].name;e.tag=s,o.pageTitle="Tagged with: "+e.tag+o.titleSuffix})},e.getData(),e.isPageable=function(e,t){return e>t},e.currentPage=1,e.maxSize=5,e.setPage=function(t){e.currentPage=t},e.pageChanged=function(){e.getData(e.currentPage),scrollBodyTop(600)}}]);